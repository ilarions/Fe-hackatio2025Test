{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/koles/OneDrive/%D0%A0%D0%B0%D0%B1%D0%BE%D1%87%D0%B8%D0%B9%20%D1%81%D1%82%D0%BE%D0%BB/FeHakaton25TEST/src/app/lib/client/index.ts"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || \"https://api.example.com\";\r\n\r\nconst apiClient = axios.create({\r\n  baseURL: API_BASE_URL,\r\n  headers: {\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n  withCredentials: true,\r\n});\r\n\r\napiClient.interceptors.request.use(\r\n  (config) => {\r\n    if (typeof window !== \"undefined\") {\r\n      const token = localStorage.getItem(\"accessToken\");\r\n      if (token) {\r\n        config.headers.Authorization = `Bearer ${token}`;\r\n      }\r\n    }\r\n    return config;\r\n  },\r\n  (error) => Promise.reject(error)\r\n);\r\n\r\napiClient.interceptors.response.use(\r\n  (response) => response,\r\n  async (error) => {\r\n    const originalRequest = error.config;\r\n\r\n    if (error.response?.status === 401 && !originalRequest._retry) {\r\n      originalRequest._retry = true;\r\n\r\n      try {\r\n        const refreshResponse = await axios.post(`${API_BASE_URL}/auth/refresh`);\r\n        localStorage.setItem(\"accessToken\", refreshResponse.data.accessToken);\r\n\r\n        originalRequest.headers.Authorization = `Bearer ${refreshResponse.data.accessToken}`;\r\n        return apiClient(originalRequest);\r\n      } catch (refreshError) {\r\n        console.error(\"Не удалось обновить токен:\", refreshError);\r\n      }\r\n    }\r\n\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nexport default apiClient;"],"names":[],"mappings":";;;AAEqB;AAFrB;;AAEA,MAAM,eAAe,8DAAmC;AAExD,MAAM,YAAY,wIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IAC7B,SAAS;IACT,SAAS;QACP,gBAAgB;IAClB;IACA,iBAAiB;AACnB;AAEA,UAAU,YAAY,CAAC,OAAO,CAAC,GAAG,CAChC,CAAC;IACC,wCAAmC;QACjC,MAAM,QAAQ,aAAa,OAAO,CAAC;QACnC,IAAI,OAAO;YACT,OAAO,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,OAAO;QAClD;IACF;IACA,OAAO;AACT,GACA,CAAC,QAAU,QAAQ,MAAM,CAAC;AAG5B,UAAU,YAAY,CAAC,QAAQ,CAAC,GAAG,CACjC,CAAC,WAAa,UACd,OAAO;IACL,MAAM,kBAAkB,MAAM,MAAM;IAEpC,IAAI,MAAM,QAAQ,EAAE,WAAW,OAAO,CAAC,gBAAgB,MAAM,EAAE;QAC7D,gBAAgB,MAAM,GAAG;QAEzB,IAAI;YACF,MAAM,kBAAkB,MAAM,wIAAA,CAAA,UAAK,CAAC,IAAI,CAAC,GAAG,aAAa,aAAa,CAAC;YACvE,aAAa,OAAO,CAAC,eAAe,gBAAgB,IAAI,CAAC,WAAW;YAEpE,gBAAgB,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,gBAAgB,IAAI,CAAC,WAAW,EAAE;YACpF,OAAO,UAAU;QACnB,EAAE,OAAO,cAAc;YACrB,QAAQ,KAAK,CAAC,8BAA8B;QAC9C;IACF;IAEA,OAAO,QAAQ,MAAM,CAAC;AACxB;uCAGa"}},
    {"offset": {"line": 49, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 55, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/koles/OneDrive/%D0%A0%D0%B0%D0%B1%D0%BE%D1%87%D0%B8%D0%B9%20%D1%81%D1%82%D0%BE%D0%BB/FeHakaton25TEST/src/app/lib/auth/index.ts"],"sourcesContent":["import apiClient from \"../client\";\r\n\r\nexport async function loginUser(email: string, password: string) {\r\n    try {\r\n        const response = await apiClient.post(\"/auth/login\", { email, password });\r\n\r\n        localStorage.setItem(\"accessToken\", response.data.accessToken);\r\n        console.log(response);\r\n        return response.data;\r\n    } catch (error) {\r\n        console.error(\"Error:\", error);\r\n        throw error;\r\n    }\r\n}\r\n\r\nexport async function registerUser(name: string, email: string, password: string) {\r\n    try {\r\n        console.log(name, email, password);\r\n\r\n        const response = await apiClient.post(\"/auth/register\", { name, email, password });\r\n        console.log(\"Response\", response.data);\r\n        return response.data;\r\n    } catch (error) {\r\n        console.error(\"Error:\", error);\r\n        throw error;\r\n    }\r\n}\r\n\r\nexport async function sendEmail() {\r\n    try {\r\n        const response = await apiClient.get('/auth/sendemail');\r\n        console.log('Ответ сервера:', response.data);\r\n        return response.data;\r\n    } catch (error) {\r\n        console.error('Ошибка при отправке email:', error);\r\n        throw error;\r\n    }\r\n}\r\n\r\nexport async function confirmEmail() {\r\n    const response = await apiClient.post(\"auth/endregister\");\r\n    return response.data;\r\n}\r\n\r\nexport async function logWithGoogle() {\r\n    try {\r\n        const response = await apiClient.get(\"/auth/google/login\");\r\n        console.log(response);\r\n\r\n        return response.data;\r\n    } catch (error) {\r\n        console.error(\"Error:\", error);\r\n        throw error;\r\n    }\r\n}\r\n"],"names":[],"mappings":";;;;;;;AAAA;;AAEO,eAAe,UAAU,KAAa,EAAE,QAAgB;IAC3D,IAAI;QACA,MAAM,WAAW,MAAM,uIAAA,CAAA,UAAS,CAAC,IAAI,CAAC,eAAe;YAAE;YAAO;QAAS;QAEvE,aAAa,OAAO,CAAC,eAAe,SAAS,IAAI,CAAC,WAAW;QAC7D,QAAQ,GAAG,CAAC;QACZ,OAAO,SAAS,IAAI;IACxB,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,UAAU;QACxB,MAAM;IACV;AACJ;AAEO,eAAe,aAAa,IAAY,EAAE,KAAa,EAAE,QAAgB;IAC5E,IAAI;QACA,QAAQ,GAAG,CAAC,MAAM,OAAO;QAEzB,MAAM,WAAW,MAAM,uIAAA,CAAA,UAAS,CAAC,IAAI,CAAC,kBAAkB;YAAE;YAAM;YAAO;QAAS;QAChF,QAAQ,GAAG,CAAC,YAAY,SAAS,IAAI;QACrC,OAAO,SAAS,IAAI;IACxB,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,UAAU;QACxB,MAAM;IACV;AACJ;AAEO,eAAe;IAClB,IAAI;QACA,MAAM,WAAW,MAAM,uIAAA,CAAA,UAAS,CAAC,GAAG,CAAC;QACrC,QAAQ,GAAG,CAAC,kBAAkB,SAAS,IAAI;QAC3C,OAAO,SAAS,IAAI;IACxB,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,8BAA8B;QAC5C,MAAM;IACV;AACJ;AAEO,eAAe;IAClB,MAAM,WAAW,MAAM,uIAAA,CAAA,UAAS,CAAC,IAAI,CAAC;IACtC,OAAO,SAAS,IAAI;AACxB;AAEO,eAAe;IAClB,IAAI;QACA,MAAM,WAAW,MAAM,uIAAA,CAAA,UAAS,CAAC,GAAG,CAAC;QACrC,QAAQ,GAAG,CAAC;QAEZ,OAAO,SAAS,IAAI;IACxB,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,UAAU;QACxB,MAAM;IACV;AACJ"}},
    {"offset": {"line": 120, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 126, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/koles/OneDrive/%D0%A0%D0%B0%D0%B1%D0%BE%D1%87%D0%B8%D0%B9%20%D1%81%D1%82%D0%BE%D0%BB/FeHakaton25TEST/src/app/register/page.tsx"],"sourcesContent":["'use client'\r\nimport { Box, Button, FormControl, IconButton, InputAdornment, InputLabel, OutlinedInput, TextField } from '@mui/material'\r\nimport React, { useState } from 'react'\r\nimport Visibility from '@mui/icons-material/Visibility';\r\nimport VisibilityOff from '@mui/icons-material/VisibilityOff';\r\nimport Link from '@mui/material/Link';\r\nimport { LogButtons } from '@/app/components/LogButtons';\r\nimport { registerUser, sendEmail } from '../lib/auth';\r\nimport { useRouter } from 'next/navigation';\r\nimport { useForm } from 'react-hook-form';\r\n\r\nexport interface IRegister {\r\n  data: any;\r\n  name: string;\r\n  email: string;\r\n  password: string;\r\n}\r\n\r\nexport default function Page() {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const { register, handleSubmit, formState: { errors: formErrors }, } = useForm<IRegister>({\r\n  });\r\n  const router = useRouter()\r\n\r\n  const handleRegister = async (data: IRegister) => {\r\n    console.log(data);\r\n\r\n    try {\r\n      await registerUser(data.name, data.email, data.password);\r\n      console.log(data)\r\n      console.log(\"gfgfdgdf\");\r\n\r\n      await sendEmail()\r\n    } catch (error) {\r\n      console.error('Ошибка регистрации:', error);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n  return (\r\n    <div className='flex flex-row items-center justify-center w-screen h-screen bg-blue-50'>\r\n      <form onSubmit={handleSubmit(handleRegister)} className='w-1/2 h-3/4 flex flex-col items-center justify-center p-10 gap-5 rounded-lg'>\r\n        \r\n      </form>\r\n      <Box className='flex w-1/2 h-screen justify-center items-center bg-blue-600'></Box>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AAKA;AACA;AACA;AARA;;;AADA;;;;;;AAkBe,SAAS;;IACtB,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACjD,MAAM,EAAE,QAAQ,EAAE,YAAY,EAAE,WAAW,EAAE,QAAQ,UAAU,EAAE,EAAG,GAAG,CAAA,GAAA,iKAAA,CAAA,UAAO,AAAD,EAAa,CAC1F;IACA,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IAEvB,MAAM,iBAAiB,OAAO;QAC5B,QAAQ,GAAG,CAAC;QAEZ,IAAI;YACF,MAAM,CAAA,GAAA,qIAAA,CAAA,eAAY,AAAD,EAAE,KAAK,IAAI,EAAE,KAAK,KAAK,EAAE,KAAK,QAAQ;YACvD,QAAQ,GAAG,CAAC;YACZ,QAAQ,GAAG,CAAC;YAEZ,MAAM,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;QAChB,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,uBAAuB;QACvC,SAAU;YACR,aAAa;QACf;IACF;IACA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAK,UAAU,aAAa;gBAAiB,WAAU;;;;;;0BAGxD,6LAAC,oLAAA,CAAA,MAAG;gBAAC,WAAU;;;;;;;;;;;;AAGrB;GA9BwB;;QAGiD,iKAAA,CAAA,UAAO;QAE/D,qIAAA,CAAA,YAAS;;;KALF"}},
    {"offset": {"line": 199, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}